from Sniffer import Sniffer
from ProtocolBuilder import ProtocolBuilder
from CustomDataWrapper import Data, Buffer
from Misc import * # pylint: disable=unused-wildcard-import
import sys

class Test1:
    def __init__(self):
        self.id = 5722
        self.data = Data([5, 0, 40, 105, 111, 112, 32, 50, 48, 48, 32, 99, 104, 101, 114, 99, 104, 101, 32, 103, 117, 105, 108, 100, 101, 32, 97, 108, 108, 105, 97, 110, 99, 101, 32, 116, 104, 111, 114, 32, 115, 118, 112, 95, 173, 209, 43, 0, 8, 53, 111, 50, 57, 121, 109, 49, 114, 66, 37, 45, 70, 1, 154, 0, 0, 0, 7, 66, 97, 98, 121, 108, 111, 110, 0, 0, 3, 6, 35, 97])

class Test2:
    def __init__(self):
        self.id = 8949
        self.data = Data([0, 0, 0, 16, 0, 26, 130, 130, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 47, 26, 64, 118, 34, 26, 64, 124, 23, 26, 64, 213, 1, 3, 26, 64, 212, 1, 2, 26, 64, 117, 1, 0, 3, 200, 220, 3, 0, 0, 175, 130, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 106, 26, 64, 118, 40, 26, 64, 124, 25, 26, 64, 213, 1, 3, 26, 64, 212, 1, 3, 26, 64, 117, 1, 0, 3, 176, 189, 16, 0, 0, 213, 129, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 42, 26, 64, 118, 32, 26, 64, 124, 25, 26, 64, 212, 1, 3, 26, 64, 213, 1, 2, 26, 64, 117, 1, 0, 3, 152, 236, 3, 0, 0, 135, 130, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 48, 26, 64, 118, 35, 26, 64, 124, 23, 26, 64, 213, 1, 3, 26, 64, 212, 1, 2, 26, 64, 117, 1, 0, 3, 248, 204, 3, 0, 0, 198, 129, 35, 187, 56, 0, 0, 0, 16, 0, 7, 26, 64, 125, 38, 26, 64, 124, 32, 26, 64, 118, 30, 26, 64, 176, 1, 5, 26, 64, 242, 1, 5, 26, 64, 243, 1, 4, 26, 64, 117, 1, 0, 3, 240, 162, 4, 0, 0, 180, 130, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 113, 26, 64, 118, 39, 26, 64, 124, 24, 26, 64, 213, 1, 3, 26, 64, 212, 1, 3, 26, 64, 117, 1, 0, 3, 144, 161, 15, 0, 0, 170, 130, 35, 187, 56, 0, 0, 0, 16, 0, 5, 26, 64, 125, 97, 26, 64, 118, 39, 26, 64, 124, 25, 26, 64, 212, 1, 2, 26, 64, 117, 1, 0, 3, 192, 154, 12, 0, 0, 165, 130, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 97, 26, 64, 118, 39, 26, 64, 124, 24, 26, 64, 213, 1, 3, 26, 64, 212, 1, 3, 26, 64, 117, 1, 0, 3, 128, 181, 24, 0, 0, 185, 130, 35, 187, 56, 0, 0, 0, 16, 0, 3, 26, 64, 125, 122, 26, 64, 118, 38, 26, 64, 117, 1, 0, 3, 159, 141, 6, 0, 0, 208, 129, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 41, 26, 64, 118, 32, 26, 64, 124, 21, 26, 64, 213, 1, 2, 26, 64, 212, 1, 2, 26, 64, 117, 1, 0, 3, 224, 212, 3, 0, 0, 253, 129, 35, 187, 56, 0, 0, 0, 16, 0, 7, 26, 64, 125, 47, 26, 64, 118, 33, 26, 64, 124, 30, 26, 64, 176, 1, 4, 26, 64, 243, 1, 4, 26, 64, 242, 1, 4, 26, 64, 117, 1, 0, 3, 160, 141, 6, 0, 0, 137, 150, 170, 67, 187, 56, 0, 0, 0, 16, 0, 4, 26, 64, 118, 63, 26, 64, 125, 24, 26, 64, 124, 17, 26, 64, 212, 1, 2, 0, 3, 191, 169, 7, 0, 0, 242, 203, 186, 104, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 144, 1, 26, 64, 118, 40, 26, 64, 124, 25, 26, 64, 213, 1, 3, 26, 64, 212, 1, 3, 26, 64, 117, 1, 0, 3, 160, 254, 10, 0, 0, 145, 132, 186, 57, 187, 56, 0, 0, 0, 16, 0, 7, 26, 64, 125, 57, 26, 64, 118, 43, 26, 64, 124, 34, 26, 64, 243, 1, 3, 26, 64, 176, 1, 2, 26, 64, 242, 1, 2, 26, 64, 117, 1, 0, 3, 240, 147, 9, 0, 0, 243, 129, 35, 187, 56, 0, 0, 0, 16, 0, 7, 26, 64, 125, 45, 26, 64, 118, 35, 26, 64, 124, 33, 26, 64, 243, 1, 4, 26, 64, 242, 1, 3, 26, 64, 117, 1, 26, 64, 176, 1, 1, 0, 3, 144, 191, 5, 0, 0, 228, 129, 35, 187, 56, 0, 0, 0, 16, 0, 7, 26, 64, 125, 43, 26, 64, 118, 29, 26, 64, 124, 21, 26, 64, 176, 1, 5, 26, 64, 243, 1, 4, 26, 64, 242, 1, 4, 26, 64, 117, 1, 0, 3, 152, 230, 5, 0, 0, 238, 129, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 44, 26, 64, 118, 31, 26, 64, 124, 25, 26, 64, 213, 1, 3, 26, 64, 212, 1, 3, 26, 64, 117, 1, 0, 3, 152, 236, 3, 0, 0, 203, 129, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 41, 26, 64, 118, 31, 26, 64, 124, 21, 26, 64, 213, 1, 2, 26, 64, 212, 1, 2, 26, 64, 117, 1, 0, 3, 200, 220, 3, 0, 0, 190, 130, 35, 187, 56, 0, 0, 0, 16, 0, 7, 26, 64, 125, 128, 1, 26, 64, 118, 31, 26, 64, 124, 30, 26, 64, 176, 1, 5, 26, 64, 243, 1, 3, 26, 64, 117, 1, 26, 64, 242, 1, 1, 0, 3, 192, 154, 12, 0, 0, 218, 129, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 42, 26, 64, 118, 34, 26, 64, 124, 21, 26, 64, 213, 1, 2, 26, 64, 212, 1, 2, 26, 64, 117, 1, 0, 3, 248, 204, 3, 0, 0, 174, 171, 235, 16, 187, 56, 0, 0, 0, 16, 0, 5, 26, 64, 125, 101, 26, 64, 118, 35, 26, 64, 124, 33, 26, 64, 176, 1, 5, 26, 64, 117, 1, 0, 3, 191, 154, 12, 0, 0, 155, 130, 35, 187, 56, 0, 0, 0, 16, 0, 7, 26, 64, 125, 80, 26, 64, 118, 36, 26, 64, 124, 32, 26, 64, 176, 1, 4, 26, 64, 242, 1, 3, 26, 64, 243, 1, 2, 26, 64, 117, 1, 0, 3, 224, 167, 18, 0, 0, 193, 129, 35, 187, 56, 0, 0, 0, 16, 0, 3, 26, 64, 125, 37, 26, 64, 124, 35, 26, 64, 118, 24, 0, 3, 248, 201, 4, 0, 0, 195, 130, 35, 187, 56, 0, 0, 0, 16, 0, 4, 26, 64, 125, 168, 1, 26, 64, 118, 40, 26, 64, 124, 23, 26, 64, 117, 1, 0, 3, 176, 198, 13, 0, 0, 150, 130, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 50, 26, 64, 118, 38, 26, 64, 124, 24, 26, 64, 213, 1, 3, 26, 64, 212, 1, 2, 26, 64, 117, 1, 0, 3, 232, 251, 3, 0, 0, 233, 129, 35, 187, 56, 0, 0, 0, 16, 0, 6, 26, 64, 125, 43, 26, 64, 118, 35, 26, 64, 124, 23, 26, 64, 212, 1, 3, 26, 64, 213, 1, 2, 26, 64, 117, 1, 0, 3, 176, 228, 3, 0, 0])

class Test3:
    def __init__(self):
        self.id = 5009
        self.data = Data([66, 104, 178, 224, 224, 25, 160, 0, 0, 8, 0])

def action(msg):
    # if msg.id == 5009 : return
    # print(', '.join(str(c) for c in msg.data.data))
    # print(' '.join(f"{c:08b}" for c in msg.data.data))
    content = protocolBuilder.build(msg.id, msg.data)
    print(content)
    # print('--')

if __name__ == "__main__":
    protocolBuilder = ProtocolBuilder()
    Sniffer(action, protocolBuilder.protocol)
    # action(Test1()) # testmode
    # action(Test2()) # testmode
    # action(Test3()) # testmode
    exit(0)